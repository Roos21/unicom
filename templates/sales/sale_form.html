{% extends 'base.html' %}
{% load static %}

{% block page_title %}
  {% if form.instance.pk %}
    Modifier la vente
  {% else %}
    Créer une vente
  {% endif %}
{% endblock %}

{% block content %}

<div class="max-w-4xl mx-auto bg-white p-6 rounded shadow">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-semibold">
      {% if form.instance.pk %}
        Modifier la vente
      {% else %}
        Créer une vente
      {% endif %}
    </h2>
    <a href="{% url 'sales:sale_list' %}" class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-700">Retour à la liste</a>
  </div>

  <form method="POST" novalidate>
    {% csrf_token %}
    <div class="space-y-4">
      {% for field in form %}
        <div class="mb-4">
          {{ field.label_tag }}
          {{ field }}
          {% if field.errors %}
            <p class="text-red-600 text-sm mt-1">{{ field.errors|striptags }}</p>
          {% endif %}
        </div>
      {% endfor %}
    </div>

    <div class="flex justify-end mt-4">
      <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
        {% if form.instance.pk %}
          Mettre à jour
        {% else %}
          Créer la vente
        {% endif %}
      </button>
    </div>
  </form>

</div>
{% endblock %}
